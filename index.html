<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/init.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	</head>
	<body>
		 
		<div id="page1">
			<div class="flex-img">
				<img class="logo1" src="img/logohhw.png" /> 
			</div>
			<div class="item-box">
				<img class="item" data-content="1" src="img/春季汤.png" />
				<img class="item" data-content="2" src="img/夏季汤.png" />
				<img class="item" data-content="3" src="img/秋季汤.png"/>
				<img class="item" data-content="4" src="img/冬季汤.jpg" />
			</div>
			<div class="flex-img">
				<img class="welcome" src="img/welcome.png"/>
			</div>
		</div>
				
		<div id="page2">
			<!--left!-->
			<div id="left">
					<div class="foods" data-content="1"><img src="img/羊肚菌.png" 	/><p>香味独特营养丰富<br>润肠通便提高代谢</p>	</div>
					<div class="foods" data-content="2"><img src="img/沙参.png"  	/><p>滋润肺部缓解干咳<br/>化痰并增强体质</p>		</div>
					<div class="foods" data-content="3"><img src="img/枸杞.png"  	/><p>养护肝脏肾脏功能<br/>改善视力模糊</p>			</div>
					<div class="foods" data-content="4"><img src="img/无花果.png" 	/><p>清热生津解表<br/>抗炎消肿利咽消肿</p>	</div>
					<div class="foods" data-content="5"><img src="img/芡实.png"  	/><p>具有固护肾脏<br/>调理腹泻白带作用</p>			</div>
					<div class="foods" data-content="6"><img src="img/淮山.png"  	/><p>健脾益胃益肺止咳<br/>降低血糖</p>				</div>
					<div class="foods" data-content="7"><img src="img/莲子.png"  	/><p>补脾止泻固肾涩精<br/>养心安神</p>				</div>
					<div class="foods" data-content="8"><img src="img/土茯苓.png"  	/><p>清热解毒<br/>缓解湿热关节肿痛</p>				</div>
					<div class="foods" data-content="9"><img src="img/当归.png"  	/><p>补血调经缓解疼痛<br/>改善便秘</p>				</div>
					<div class="foods" data-content="10"><img src="img/麦冬.png"  	/><p>润肺止咳滋养胃部<br/>缓解心烦</p>				</div>
					<div class="foods" data-content="23"><img src="img/生姜.png"  	/><p>驱寒暖身促进消化<br/>抗炎抗氧化缓解恶心</p>	</div>				
					<div class="foods" data-content="17"><img src="img/枸杞叶.png"  	/><p>滋阴养血<br/>清肝明目降血压</p>					</div>
					<div class="foods" data-content="19"><img src="img/红枣.png"  	/><p>补中益气<br/>养血安神</p>						</div>
					<div class="foods" data-content="20"><img src="img/雪梨.png"  	/><p>生津止渴<br/>化痰止咳润肺</p>					</div>
					<div class="foods" data-content="24"><img src="img/苹果.png"  	/><p>降胆固醇<br/>宁神安眠缓解疲劳</p>					</div>
					<div class="foods" data-content="25"><img src="img/冬瓜.png"  	/><p>利尿消肿清热解暑<br/>促进消化保护肝脏</p>		</div>
					<div class="foods" data-content="21"><img src="img/银耳.png"  	/><p>清热健胃<br/>美容祛斑减肥</p>					</div>
					<div class="foods" data-content="22"><img src="img/萝卜.png"  	/><p>帮助消化<br/>缓解腹胀止咳化痰</p>				</div>
					<div class="foods" data-content="11"><img src="img/鸡肉.png"  	/><p>温中益气强身健体<br/>保护心血管</p>				</div>
					<div class="foods" data-content="12"><img src="img/羊肉.png"  	/><p>补肝明目温补脾胃<br/>补血温经</p>				</div>
					<div class="foods" data-content="13"><img src="img/猪肉.png"  	/><p>改善贫血补肾滋阴<br/>强壮骨骼</p>				</div>
					<div class="foods" data-content="14"><img src="img/鱼肉.png"  	/><p>补充营养调节血脂<br/>改善皮肤</p>				</div>
					<div class="foods" data-content="15"><img src="img/牛肉.png"  	/><p>益气养胃补充营养<br/>促进康复辅助减肥</p>		</div>
					<div class="foods" data-content="16"><img src="img/猪干.png"  	/><p>养肝明目<br/>补气健脾</p>						</div>
					<div class="foods" data-content="18"><img src="img/老鸭.png"  	/><p>大补虚劳滋阴清热<br/>补血行水健脾养胃</p>		</div>				
			</div>
			<!--center!-->
			<div id="center">
				<div id="result">
					<div id="result_img"> <img id="result_xwx" src="img/loser.gif" /></div>
					<div id="result_title">
						<p class="title_result">挑战失败</p>
						<p class="title_result_f"></p>
					</div>
				</div>
				<div id="bao">
					<div id="baogai">	<img src="img/baogai.png"/>	 </div>
					<div id="baopei">	<img src="img/baopei.png"/>	 </div>
					<div id="baosheng">	<img src="img/bao.png"/>     </div>
					<div id="bigfire">	<img src="img/bigfire.png"/>     </div>
					<div id="sfire">	<img src="img/sfire.png"/>     </div>
					<div id="fire1">	<img src="img/fire.gif"/>     </div>
					<div id="fire2">	<img src="img/fire.gif"/>     </div>
					<div id="fire3">	<img src="img/fire.gif"/>     </div>
					<div id="gas" ><img src="img/yj.png"/></div>
					<div id="tools">
						<img onclick="addWater()" src="img/加水.png"/>
						<img onclick="cover()" src="img/加盖.png"/>
						<img onclick="openFire(1)" src="img/大火.png"/>
						<img onclick="openFire(2)" src="img/小火.png"/>
						<img onclick="completeOK()" src="img/完成.png"/>
						<img onclick="location.reload();" src="img/重置.png"/>
					</div>
				</div>	
			
				<div id="water"></div> 
		
				<div id="food">
					<img id="food1" src="img/food1.png"  />
					<img id="food2" src="img/food2.png"    />
					<img id="food3" src="img/food3.png"   />
					<img id="food4" src="img/food4.png"   />
					<img id="food5" src="img/food5.png"   />
					<img id="food6" src="img/food6.png"   />
					<img id="food7" src="img/food7.png"  />
					<img id="food8" src="img/food8.png"    />
					<img id="food9" src="img/food9.png"   />
					<img id="food10" src="img/food10.png"  />
					<img id="food11" src="img/food11.png"   />
					<img id="food12" src="img/food12.png"  />
					<img id="food13" src="img/food13.png"  />
					<img id="food14" src="img/food14.png"  />
					<img id="food15" src="img/food15.png"  />
					<img id="food16" src="img/food16.png"  />
					<img id="food17" src="img/food17.png"  />
					<img id="food18" src="img/food18.png"  />
					<img id="food19" src="img/food19.png"  />
					<img id="food20" src="img/food20.png"  />
					<img id="food21" src="img/food21.png"  />
					<img id="food22" src="img/food22.png"  />
					<img id="food23" src="img/food23.png"  />
					<img id="food24" src="img/food24.png"  />
					<img id="food25" src="img/food25.png"  />
					<img id="food26" src="img/food26.png"  />
				</div>	
			</div>	 	
				
			<!--right!-->
			<div id="right">
				<div class="logo2"><img src="img/logon.png" /></div>
				<div class="season"><img id="season" src="img/春季.png" /></div> 
			</div>
		</div>	
		<!--<div id="pj"></div>!-->
		
		<audio id="music" src="mp3/bcgm.mp3"></audio>	
		<div id="fireworks1"><img src="img/firework.gif"></div>
		<div id="fireworks2"><img src="img/firework.gif"></div>
		<div id="fireworks3"><img src="img/firework.gif"></div>
		

		
	</body>
</html>
<script type="text/javascript">
var sh=bf=sf=gg=0;
var food_type;
var foods=[]; 
 
$(document).ready(function() {
	 
	
	//初始
	$('img').on('dragstart', function(event) {
        event.preventDefault(); // 阻止拖拽的默认行为
    });	 
		
	//选中要煲的汤
	$('.item').on('click', function() {
		    food_type = $(this).data('content'); 
	        $(this).animate({
						top: "-1000px" 
					}, 2000,function(){
				$('#page1').fadeOut(500)
			}); 
			 switch(food_type)
			 {
				 case 1:$("#season").attr('src', 'img/春季.png');break;
				 case 2:$("#season").attr('src', 'img/夏季.png');break;
				 case 3:$("#season").attr('src', 'img/秋季.png');break;
				 case 4:$("#season").attr('src', 'img/冬季.png');break;
			 }
	});
			
	
	//选中要煲的药材
	var names=[1,2,3,4,5,6];	 
	//var names=["calc(20%)|calc(40%)","calc(40%)|calc(40%)","calc(60%)|calc(40%)","calc(20%)|calc(55%)","calc(40%)|calc(55%)","calc(60%)|calc(55%)"];
	$('.foods').on('click', function() {
		  $(this).off('click');
		  if(names.length!=0){
					var index=Math.floor(Math.random()*names.length);
					var name= names[index]
					var l=t="";
					var h=$("#center").height();
					names.splice(index,1);
					var contentId = $(this).data('content');
					foods.push(contentId);
					var speed=2000;
					
					switch(name)
					{
						case 1:$('#food'+contentId).css('left','calc(20%)');$('#food'+contentId).animate({top:h*0.45+"px"}, speed, function() {$(this).css({top: 'calc(45%)'}); });break;
						case 2:$('#food'+contentId).css('left','calc(40%)');$('#food'+contentId).animate({top:h*0.45+"px"}, speed, function() {$(this).css({top: 'calc(45%)'}); });break;
						case 3:$('#food'+contentId).css('left','calc(60%)');$('#food'+contentId).animate({top:h*0.45+"px"}, speed, function() {$(this).css({top: 'calc(45%)'}); });break;
						case 4:$('#food'+contentId).css('left','calc(20%)');$('#food'+contentId).animate({top:h*0.3+"px"}, speed, function() {$(this).css({top: 'calc(30%)'}); });break;
						case 5:$('#food'+contentId).css('left','calc(40%)');$('#food'+contentId).animate({top:h*0.3+"px"}, speed, function() {$(this).css({top: 'calc(30%)'}); });break;
						case 6:$('#food'+contentId).css('left','calc(60%)');$('#food'+contentId).animate({top:h*0.3+"px"}, speed, function() {$(this).css({top: 'calc(30%)'}); });break;
					}		 
			}
	});
	
	
})



/*加水*/
function addWater(){
	sh=1;
	var h=$("#center").height();
	 $("#water").animate({
	      top: h*0.3+"px" 
	    }, 2500,function() { $("#water").css({top: 'calc(30%)'})});  // 动画持续1秒(1000毫秒)
}

/*盖上盖子*/
function cover(){
	gg=1;
	
	   
	 $("#baogai").animate({
	      top: "0px"
	    }, 2000);  // 动画持续1秒(1000毫秒)	
}

function openFire(v){
	if(v==1){  
		$("#fire1").css("display","block");
		$("#fire2").css("display","block");
		$("#fire3").css("display","block");	 
		bf=1;
	}else
	{
		$("#fire1").css("display","none");
		$("#fire2").css("display","block");
		$("#fire3").css("display","none");
		sf=1;
	}	 	
}


 $(document).ready(function() {
     $(document).on('contextmenu', function(event) {
         event.preventDefault(); // 阻止默认的上下文菜单
     });
 });
function completeOK(){
	check();
}
   
 function check(){
	 $("#result_img").css("display","block");
	 $("#result_title").css("display","block");
	 if(sh==0){
		 $(".title_result_f").html("哎呀，没有加水呀，嘻嘻！！！"); 
	 }else if(bf==0){
		 $(".title_result_f").html("哎呀，要先开大火煮开后才能转小火的呢！！！"); 
	 }else if(sf==0){
		 $(".title_result_f").html("哎呀，要先开大火等煮开后再转小火的呢！！！"); 
	 }else if(gg==0){
		 $(".title_result_f").html("哎呀，没加煲盖，香气全都飞出来了！！！"); 
	 }else{
		 var title=[];
		 var fourtext=[['猪肝','枸杞叶','枸杞'],['鸭肉','冬瓜','莲子'],['雪梨','银耳','红枣'],['羊肉','生姜','萝卜','枸杞']];
		 var fourss=[[16,17,3],[18,25,7],[20,21,19],[12,23,22,3]];
		 for(var i=0;i<fourss[food_type-1].length;i++){
			 var ha=0;
			for(var j=0;j<foods.length;j++){
				if(foods[j]==fourss[food_type-1][i]){
					ha=1;
					break;
				}	
			}
			 if(ha==0){
					title.push(fourtext[food_type-1][i]);
				}
		 }
		 
		var dnamey=["春季养肝明目枸杞猪肝汤","夏季老鸭冬瓜莲子汤","秋季雪梨银耳红枣汤","冬季萝卜羊肉汤"];
		 if(title.length!=0){
			 var str="您的\""+dnamey[food_type-1]+"\"没有放"+title[0];
			 for(var i=1;i<title.length;i++){
				 str+="、"+title[i];
			 }
			 str+="。";
			  
			 $(".title_result_f").html(str);
		 }else
		 {
			 	$("#fireworks1").css("display","block");	 
			 	$("#fireworks2").css("display","block");	 
			 	$("#fireworks3").css("display","block");	 
			 	 var audio = document.getElementById('music');
			 	  
			 		if(audio.paused){
			 	      audio.play();
			 		 }else
			 		 {
			 			 audio.pause();
			 		 }
			$(".title_result").html("挑战成功");		 
			$("#result_xwx").attr("src", "img/win.gif");
			$(".title_result_f").html("您煲的"+dnamey[food_type-1]+"太美味了！！！");
		 }
		  
	 }
 }
 
</script>
